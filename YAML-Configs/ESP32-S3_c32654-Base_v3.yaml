# [ ==== esphome-web-c32654.yaml ==== ] #
esphome:
  name: esphome-web-c32654 # Version 3
  friendly_name: ESPHome MacroPad S3
  min_version: 2025.10.0
  name_add_mac_suffix: false

# [ ==== PCB Board Info ==== ] #
esp32:
  variant: esp32s3
  framework:
    type: esp-idf

# [ ==== Logging, API, and Updates ==== ] #
logger:
api:
ota:
  - platform: esphome

# [ ==== WiFi Info ==== ] #
wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  fast_connect: true
  on_connect:
    then:
      - light.turn_on:
          id: rgb_led
          effect: rainbow
          brightness: 100%
  on_disconnect:
    then:
      - light.turn_on:
          id: rgb_led
          effect: pulse
          red: 100%
          green: 0%
          blue: 0%
          brightness: 100%

# [ ==== Web Server Info ==== ] #
web_server:
  port: 80
  version: 3

# [ ==== Buttons ==== ] #
button:
  - platform: factory_reset
    name: "Factory Reset - MacroPad S3"
    icon: mdi:restart

# [ ==== RGB LED (WS2812B) Info ==== ] #
light:
  - platform: esp32_rmt_led_strip
    rgb_order: GRB
    pin: GPIO48
    num_leds: 1
    chipset: WS2812
    name: "RGB LED - MacroPad S3"
    id: rgb_led
    restore_mode: RESTORE_DEFAULT_ON
    default_transition_length: 0.35s
    icon: mdi:led-on
    effects:
      - pulse:
      - strobe:
      - flicker:
      - addressable_rainbow:

# [ ==== Substitutions ==== ] #
substitutions:
  # Entities
  key_1_entity: "light.bathroom_lights_switch"
  key_2_entity: "light.bathroom_lights_switch"
  key_3_entity: "light.bathroom_lights_switch"
  key_4_entity: "light.bathroom_lights_switch"
  key_5_entity: "light.bathroom_lights_switch"
  key_6_entity: "light.bathroom_lights_switch"
  key_7_entity: "light.bathroom_lights_switch"
  key_8_entity: "light.bathroom_lights_switch"
  key_9_entity: "light.bathroom_lights_switch"
  key_1_entity_double: "switch.bathroom_fan"
  key_2_entity_double: "switch.bathroom_fan"
  key_3_entity_double: "switch.bathroom_fan"
  key_4_entity_double: "switch.bathroom_fan"
  key_5_entity_double: "switch.bathroom_fan"
  key_6_entity_double: "switch.bathroom_fan"
  key_7_entity_double: "switch.bathroom_fan"
  key_8_entity_double: "switch.bathroom_fan"
  key_9_entity_double: "switch.bathroom_fan"
  key_1_entity_hold: "light.closet_lights_switch"
  key_2_entity_hold: "light.closet_lights_switch"
  key_3_entity_hold: "light.closet_lights_switch"
  key_4_entity_hold: "light.closet_lights_switch"
  key_5_entity_hold: "light.closet_lights_switch"
  key_6_entity_hold: "light.closet_lights_switch"
  key_7_entity_hold: "light.closet_lights_switch"
  key_8_entity_hold: "light.closet_lights_switch"
  key_9_entity_hold: "light.closet_lights_switch"
  # Actions
  key_1_action: "light.toggle"
  key_2_action: "light.toggle"
  key_3_action: "light.toggle"
  key_4_action: "light.toggle"
  key_5_action: "light.toggle"
  key_6_action: "light.toggle"
  key_7_action: "light.toggle"
  key_8_action: "light.toggle"
  key_9_action: "light.toggle"
  key_1_action_double: "switch.toggle"
  key_2_action_double: "switch.toggle"
  key_3_action_double: "switch.toggle"
  key_4_action_double: "switch.toggle"
  key_5_action_double: "switch.toggle"
  key_6_action_double: "switch.toggle"
  key_7_action_double: "switch.toggle"
  key_8_action_double: "switch.toggle"
  key_9_action_double: "switch.toggle"
  key_1_action_hold: "light.toggle"
  key_2_action_hold: "light.toggle"
  key_3_action_hold: "light.toggle"
  key_4_action_hold: "light.toggle"
  key_5_action_hold: "light.toggle"
  key_6_action_hold: "light.toggle"
  key_7_action_hold: "light.toggle"
  key_8_action_hold: "light.toggle"
  key_9_action_hold: "light.toggle"

# [ ==== External Packages ==== ] #
packages:
 remote_package_files:
   url: https://github.com/SpicyLimes/ESP32-S3-Files
   files: YAML-Configs/ESP32-S3_c32654-Package_v3.yaml
   ref: main
   refresh: 0s
